"use strict";(self.webpackChunkwormates=self.webpackChunkwormates||[]).push([[697],{697:(a,r,e)=>{e.r(r),e.d(r,{default:()=>n});var i=e(43),l=e(3),t=e(412);const s={library:"Library_library__l2Zlv",library_items:"Library_library_items__m3uOt",library_button:"Library_library_button__0SzC6",library_button_active:"Library_library_button_active__u67GX",library_tab:"Library_library_tab__iAA+n",library_item:"Library_library_item__sOIzU",library_item_img:"Library_library_item_img__NDLkA",library_item_name:"Library_library_item_name__dG5Sa",library_item_author:"Library_library_item_author__EWAXk",fadeIn:"Library_fadeIn__ERdwU"};var _=e(906),b=e(579);const n=a=>{let{username:r}=a;const{books:e,setFilter:n,filter:c}=(()=>{const[a,r]=(0,i.useState)([]),[e,s]=(0,i.useState)(!1),[_,b]=(0,i.useState)(null),n=(0,l.d4)((a=>a.auth.username)),[c,m]=(0,i.useState)(""),y=(0,i.useCallback)((async a=>{s(!0),b(null);try{const e=await(0,t.Yq)(n,a);r(e)}catch(e){b(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438")}finally{s(!1)}}),[n]);return(0,i.useEffect)((()=>{y(c)}),[c,y]),{books:a,loading:e,error:_,filter:c,setFilter:m}})();i.useEffect((()=>{c||n("all")}),[c,n]);const m=e&&void 0!==e[c]?"all"===c?e.all||[]:e[c]||[]:[];return(0,b.jsxs)("div",{className:s.library,children:[(0,b.jsx)("div",{className:s.library_tab,children:[{label:"All",value:"all"},{label:"Reading",value:"reading"},{label:"Liked",value:"liked"},{label:"Wish List",value:"wish_list"},{label:"Favorites",value:"favorites"},{label:"Finished",value:"finished"}].map((a=>(0,b.jsx)("button",{className:c===a.value?`${s.library_button_active}`:`${s.library_button}`,onClick:()=>n(a.value),children:a.label},a.value)))}),(0,b.jsx)("div",{className:s.library_items,children:m.length>0?m.map((a=>(0,b.jsxs)("div",{className:s.library_item,children:[(0,b.jsx)(_.N_,{to:`/book/${a.id}`,children:(0,b.jsx)("img",{src:a.coverpage,alt:`${a.name} cover`,className:s.library_item_img})}),(0,b.jsxs)("div",{className:s.library_item_content,children:[(0,b.jsx)(_.N_,{to:`/book/${a.id}`,children:(0,b.jsx)("div",{className:s.library_item_name,children:a.name})}),(0,b.jsx)("div",{className:s.library_item_author,children:a.author})]})]},a.id))):(0,b.jsx)("div",{className:s.library_empty,children:"No books found"})})]})}}}]);
//# sourceMappingURL=697.9d483cea.chunk.js.map